# =============================================================================
# Copy this file to .env for LOCAL development only.
# For VERCEL: set these in Project → Settings → Environment Variables.
# Never commit .env (it is in .gitignore).
# =============================================================================

# Server
NODE_ENV=development
PORT=3000

# Optional: comma-separated allowed origins for CORS (e.g. your frontend URL)
# For Vercel: set to your frontend URL, e.g. https://your-app.vercel.app
# CORS_ORIGINS=https://your-frontend.vercel.app

# Database (PostgreSQL / MySQL URL or SQLite path)
# Neon: postgresql://user:pass@ep-xxx.aws.neon.tech/neondb?sslmode=require
DATABASE_URL=postgresql://user:password@host:5432/database?sslmode=require

# Redis (Upstash: use rediss:// with TLS)
# rediss://default:YOUR_TOKEN@xxx.upstash.io:6379
REDIS_URL=rediss://default:YOUR_TOKEN@your-redis.upstash.io:6379

# S3-compatible storage (required for uploads; use real credentials on Vercel)
S3_ENDPOINT=https://s3.amazonaws.com
S3_BUCKET=your-bucket
S3_ACCESS_KEY=your-access-key-here
S3_SECRET_KEY=your-secret-key-here

# OpenAI (required)
OPENAI_API_KEY=sk-your-openai-api-key-here

# JWT (required; min 32 chars). For production use: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-minimum-32-characters-long

# -----------------------------------------------------------------------------
# Mail (optional – for account verification, forgot password, welcome emails)
# If not set, the API still runs but emails are skipped (e.g. dev without SMTP).
# Use any SMTP provider: Gmail, SendGrid, Mailgun, AWS SES, your host’s SMTP.
# -----------------------------------------------------------------------------
# MAIL_HOST=smtp.example.com
# MAIL_PORT=587
# MAIL_SECURE=false
# MAIL_USER=your-smtp-user
# MAIL_PASSWORD=your-smtp-password
# MAIL_FROM=noreply@yourdomain.com

# Admin dashboard (optional). When set, /api/admin-dashboard is protected by this password.
# ADMIN_PASSWORD=your-secure-admin-password

# -----------------------------------------------------------------------------
# Firebase (optional – for FCM push notifications from backend)
# If set, the backend can send push notifications directly via Firebase Cloud Messaging.
# -----------------------------------------------------------------------------
# FIREBASE_PROJECT_ID=your-firebase-project-id
# FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxx@your-project.iam.gserviceaccount.com
# FIREBASE_PRIVATE_KEY=-----BEGIN PRIVATE KEY-----\\n...\\n-----END PRIVATE KEY-----\\n

# -----------------------------------------------------------------------------
# Billing: Stripe (Android / web subscriptions)
# Required for Android and web; set STRIPE_WEBHOOK_SECRET for POST /api/billing/webhook.
# -----------------------------------------------------------------------------
# STRIPE_SECRET_KEY=sk_test_...
# STRIPE_WEBHOOK_SECRET=whsec_...
# STRIPE_SUCCESS_URL=https://your-api.com/api/billing/payment-success
# STRIPE_CANCEL_URL=https://your-api.com/api/billing/payment-cancel
# STRIPE_SUCCESS_REDIRECT=haily://payment-success
# STRIPE_CANCEL_REDIRECT=haily://payment-cancel

# -----------------------------------------------------------------------------
# Billing: Apple In-App Purchase (iOS)
# Required for iOS receipt verification and restore purchases.
# -----------------------------------------------------------------------------
# APPLE_IAP_SHARED_SECRET=your-app-specific-shared-secret-from-app-store-connect
# APPLE_IAP_BUNDLE_ID=com.yourapp.haily
# APPLE_IAP_SANDBOX=true
